<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–®–í | UKRAINE GTA</title>
    <link rel="icon" type="image/png" href="https://i.imgur.com/TGRxJgE.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary: #22c55e;
        --primary-dim: rgba(34,197,94,0.7);
        --primary-bright: #4ade80;
        --bg: #030507;
        --card-bg: rgba(15,18,25,0.7);
        --glass-border: rgba(34,197,94,0.15);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        font-family: 'Montserrat', sans-serif;
        background: var(--bg);
        color: var(--text);
        overflow-x: hidden;
    }

    body::before {
        content: '';
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background:
            radial-gradient(ellipse at 20% 50%, rgba(34,197,94,0.03) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 50%, rgba(34,197,94,0.02) 0%, transparent 50%);
        pointer-events: none;
        z-index: 0;
    }

    /* ===== NAVIGATION ===== */
    .nav {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        z-index: 1000;
        padding: 20px 60px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.4s ease;
        background: transparent;
    }

    .nav.scrolled {
        background: rgba(3,5,7,0.95);
        backdrop-filter: blur(20px);
        padding: 12px 60px;
        border-bottom: 1px solid var(--glass-border);
    }

    .nav-logo {
        display: flex;
        align-items: center;
        gap: 15px;
        text-decoration: none;
    }

    .nav-logo img {
        height: 45px;
        filter: drop-shadow(0 0 10px rgba(34,197,94,0.3));
        transition: filter 0.3s;
    }

    .nav-logo:hover img {
        filter: drop-shadow(0 0 15px rgba(34,197,94,0.6));
    }

    .nav-logo span {
        font-size: 1.1rem;
        font-weight: 800;
        background: linear-gradient(135deg, var(--primary), var(--primary-bright));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        letter-spacing: 2px;
    }

    .nav-links {
        display: flex;
        align-items: center;
        gap: 35px;
        list-style: none;
    }

    .nav-links a {
        text-decoration: none;
        color: var(--text-secondary);
        font-weight: 500;
        font-size: 0.9rem;
        transition: color 0.3s;
        position: relative;
        letter-spacing: 0.5px;
    }

    .nav-links a::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary);
        transition: width 0.3s;
    }

    .nav-links a:hover {
        color: var(--primary);
    }

    .nav-links a:hover::after {
        width: 100%;
    }

    /* ===== BURGER ===== */
    .burger {
        display: none;
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
        z-index: 1001;
        background: none;
        border: none;
        padding: 5px;
    }

    .burger span {
        width: 25px;
        height: 2px;
        background: var(--text);
        transition: all 0.3s ease;
        border-radius: 2px;
    }

    .burger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }

    .burger.active span:nth-child(2) {
        opacity: 0;
    }

    .burger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
    }

    /* ===== ADMIN DROPDOWN ===== */
    .admin-dropdown {
        position: relative;
        display: none;
    }

    .admin-dropdown.visible {
        display: block;
    }

    .admin-dropdown-btn {
        background: rgba(34,197,94,0.1);
        border: 1px solid var(--glass-border);
        color: var(--primary);
        padding: 8px 16px;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
    }

    .admin-dropdown-btn:hover {
        background: rgba(34,197,94,0.2);
    }

    .admin-dropdown-menu {
        position: absolute;
        top: calc(100% + 8px);
        right: 0;
        background: rgba(15,18,25,0.98);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 8px;
        min-width: 220px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        z-index: 1002;
    }

    .admin-dropdown-menu.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .admin-dropdown-menu button {
        width: 100%;
        padding: 10px 16px;
        background: none;
        border: none;
        color: var(--text);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.85rem;
        text-align: left;
        cursor: pointer;
        border-radius: 8px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .admin-dropdown-menu button:hover {
        background: rgba(34,197,94,0.1);
        color: var(--primary);
    }

    .admin-dropdown-menu button i {
        width: 18px;
        text-align: center;
        font-size: 0.9rem;
    }

    /* ===== HERO ===== */
    .hero {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .hero::before {
        content: '';
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: url('https://i.imgur.com/YourHeroImage.jpg') center/cover;
        opacity: 0.1;
    }

    .hero-content {
        position: relative;
        z-index: 1;
    }

    .hero-badge {
        display: inline-block;
        padding: 8px 20px;
        background: rgba(34,197,94,0.1);
        border: 1px solid var(--glass-border);
        border-radius: 50px;
        color: var(--primary);
        font-size: 0.85rem;
        font-weight: 600;
        letter-spacing: 2px;
        margin-bottom: 25px;
    }

    .hero h1 {
        font-size: 4rem;
        font-weight: 900;
        line-height: 1.1;
        margin-bottom: 20px;
    }

    .hero h1 .green {
        background: linear-gradient(135deg, var(--primary), var(--primary-bright));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .hero p {
        font-size: 1.15rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto 40px;
        line-height: 1.7;
    }

    .hero-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn-primary {
        padding: 14px 35px;
        background: linear-gradient(135deg, var(--primary), #16a34a);
        color: #fff;
        border: none;
        border-radius: 10px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(34,197,94,0.3);
    }

    .btn-secondary {
        padding: 14px 35px;
        background: transparent;
        color: var(--text);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 10px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .btn-secondary:hover {
        border-color: var(--primary);
        color: var(--primary);
        transform: translateY(-2px);
    }

    .hero-stats {
        display: flex;
        justify-content: center;
        gap: 50px;
        margin-top: 60px;
    }

    .hero-stat {
        text-align: center;
    }

    .hero-stat .number {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--primary);
        display: block;
    }

    .hero-stat .label {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-top: 5px;
    }
            /* ===== SECTIONS ===== */
    .section {
        padding: 100px 60px;
        position: relative;
        z-index: 1;
    }

    .section-header {
        text-align: center;
        margin-bottom: 60px;
    }

    .section-header h2 {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 15px;
    }

    .section-header h2 .green {
        background: linear-gradient(135deg, var(--primary), var(--primary-bright));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .section-header p {
        color: var(--text-secondary);
        font-size: 1.05rem;
        max-width: 600px;
        margin: 0 auto;
    }

    /* ===== WHY SECTION ===== */
    .why-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .why-card {
        background: var(--card-bg);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        overflow: hidden;
        transition: all 0.4s ease;
        backdrop-filter: blur(10px);
    }

    .why-card:hover {
        transform: translateY(-5px);
        border-color: rgba(34,197,94,0.4);
        box-shadow: 0 15px 40px rgba(34,197,94,0.1);
    }

    .why-card-img {
        width: 100%;
        height: 220px;
        object-fit: cover;
    }

    .why-card-content {
        padding: 25px;
    }

    .why-card-content h3 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 10px;
        color: var(--primary);
    }

    .why-card-content p {
        color: var(--text-secondary);
        font-size: 0.9rem;
        line-height: 1.6;
    }

    /* ===== FEATURES ===== */
    .features-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 25px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .feature-card {
        background: var(--card-bg);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        padding: 35px;
        transition: all 0.4s ease;
        backdrop-filter: blur(10px);
    }

    .feature-card:hover {
        transform: translateY(-5px);
        border-color: rgba(34,197,94,0.4);
        box-shadow: 0 15px 40px rgba(34,197,94,0.1);
    }

    .feature-icon {
        width: 50px;
        height: 50px;
        background: rgba(34,197,94,0.1);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        color: var(--primary);
        margin-bottom: 20px;
    }

    .feature-card h3 {
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 10px;
    }

    .feature-card p {
        color: var(--text-secondary);
        font-size: 0.88rem;
        line-height: 1.6;
    }

    /* ===== GALLERY ===== */
    .gallery-container {
        max-width: 1000px;
        margin: 0 auto;
        position: relative;
    }

    .gallery-main {
        position: relative;
        width: 100%;
        height: 500px;
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid var(--glass-border);
        margin-bottom: 20px;
    }

    .gallery-main img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .gallery-main img.fade-enter {
        opacity: 0;
        transform: scale(1.04);
    }

    .gallery-main img.fade-enter-active {
        opacity: 1;
        transform: scale(1);
    }

    .gallery-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 30px;
        background: linear-gradient(transparent, rgba(0,0,0,0.8));
        font-size: 0.95rem;
        color: #fff;
    }

    .gallery-nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 45px;
        height: 45px;
        background: rgba(0,0,0,0.6);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 50%;
        color: #fff;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
    }

    .gallery-nav-btn:hover {
        background: rgba(34,197,94,0.3);
        border-color: var(--primary);
    }

    .gallery-nav-btn.prev { left: 15px; }
    .gallery-nav-btn.next { right: 15px; }

    .gallery-thumbs {
        display: flex;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .gallery-thumb {
        width: 70px;
        height: 50px;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.3s;
        opacity: 0.5;
    }

    .gallery-thumb:hover {
        opacity: 0.8;
    }

    .gallery-thumb.active {
        border-color: var(--primary);
        opacity: 1;
    }

    .gallery-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .gallery-link {
        text-align: center;
        margin-top: 30px;
    }

    .gallery-link a {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .gallery-link a:hover {
        color: var(--primary-bright);
        gap: 12px;
    }

    /* ===== NEWS ‚Äî SLIDER ===== */
    .news-slider-container {
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
    }

    .news-slider-wrapper {
        overflow: hidden;
        border-radius: 16px;
    }

    .news-slider-track {
        display: flex;
        transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .news-slide {
        min-width: calc(33.333% - 20px);
        margin: 0 10px;
        flex-shrink: 0;
    }

    .news-card {
        background: var(--card-bg);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        overflow: hidden;
        transition: all 0.4s ease;
        backdrop-filter: blur(10px);
        height: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .news-card:hover {
        transform: translateY(-5px);
        border-color: rgba(34,197,94,0.4);
        box-shadow: 0 15px 40px rgba(34,197,94,0.1);
    }

    .news-card-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }

    .news-card-body {
        padding: 25px;
        display: flex;
        flex-direction: column;
        flex: 1;
    }

    .news-card-date {
        font-size: 0.8rem;
        color: var(--primary);
        font-weight: 600;
        margin-bottom: 10px;
    }

    .news-card-body h3 {
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 10px;
        line-height: 1.4;
    }

    .news-card-body p {
        color: var(--text-secondary);
        font-size: 0.88rem;
        line-height: 1.6;
        flex: 1;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .news-card-footer {
        padding: 0 25px 25px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .news-read-more {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        transition: all 0.3s;
        cursor: pointer;
        background: none;
        border: none;
        font-family: 'Montserrat', sans-serif;
    }

    .news-read-more:hover {
        gap: 8px;
        color: var(--primary-bright);
    }

    .news-admin-actions {
        display: none;
        gap: 8px;
    }

    .news-admin-actions.visible {
        display: flex;
    }

    .news-admin-btn {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        border: 1px solid var(--glass-border);
        background: rgba(15,18,25,0.8);
        color: var(--text-secondary);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        transition: all 0.2s;
    }

    .news-admin-btn:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .news-admin-btn.delete:hover {
        border-color: #ef4444;
        color: #ef4444;
    }

    .news-slider-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        background: rgba(0,0,0,0.7);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 50%;
        color: #fff;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
    }

    .news-slider-btn:hover {
        background: rgba(34,197,94,0.3);
        border-color: var(--primary);
    }

    .news-slider-btn.prev { left: -25px; }
    .news-slider-btn.next { right: -25px; }

    .news-slider-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .news-slider-btn:disabled:hover {
        background: rgba(0,0,0,0.7);
        border-color: var(--glass-border);
    }

    .news-slider-dots {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 30px;
    }

    .news-slider-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(255,255,255,0.2);
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        padding: 0;
    }

    .news-slider-dot.active {
        background: var(--primary);
        box-shadow: 0 0 10px rgba(34,197,94,0.4);
        transform: scale(1.2);
    }

    .news-slider-dot:hover {
        background: rgba(34,197,94,0.5);
    }

    .news-empty {
        text-align: center;
        padding: 60px 20px;
        color: var(--text-secondary);
    }

    .news-empty i {
        font-size: 3rem;
        margin-bottom: 15px;
        opacity: 0.3;
    }
            /* ===== APPLICATION FORM ===== */
    .form-container {
        max-width: 700px;
        margin: 0 auto;
        background: var(--card-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 50px;
        backdrop-filter: blur(10px);
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        font-size: 0.9rem;
        color: var(--text);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
        width: 100%;
        padding: 14px 18px;
        background: rgba(15,18,25,0.8);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        color: var(--text);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.9rem;
        transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
        outline: none;
        border-color: var(--primary);
    }

    .form-group textarea {
        height: 120px;
        resize: vertical;
    }

    .form-submit {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, var(--primary), #16a34a);
        color: #fff;
        border: none;
        border-radius: 12px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s;
    }

    .form-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(34,197,94,0.3);
    }

    /* ===== FOOTER ===== */
    .footer {
        padding: 50px 60px;
        border-top: 1px solid var(--glass-border);
        position: relative;
        z-index: 1;
    }

    .footer-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }

    .footer-logo {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .footer-logo img {
        height: 35px;
    }

    .footer-logo span {
        font-weight: 700;
        color: var(--primary);
        letter-spacing: 1px;
    }

    .footer-links {
        display: flex;
        gap: 25px;
    }

    .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 0.85rem;
        transition: color 0.3s;
    }

    .footer-links a:hover {
        color: var(--primary);
    }

    .footer-social {
        display: flex;
        gap: 15px;
    }

    .footer-social a {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: rgba(34,197,94,0.1);
        border: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-secondary);
        text-decoration: none;
        transition: all 0.3s;
    }

    .footer-social a:hover {
        color: var(--primary);
        border-color: var(--primary);
        transform: translateY(-3px);
    }

    .footer-bottom {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(255,255,255,0.05);
        color: var(--text-secondary);
        font-size: 0.8rem;
    }

    .footer-tags {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
        margin-top: 12px;
    }

    .footer-tags span {
        padding: 4px 12px;
        background: rgba(34,197,94,0.06);
        border: 1px solid rgba(34,197,94,0.1);
        border-radius: 20px;
        font-size: 0.7rem;
        color: var(--text-secondary);
    }

    /* ===== MODALS ===== */
    .modal-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.8);
        backdrop-filter: blur(5px);
        z-index: 2000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .modal-overlay.active {
        display: flex;
    }

    .modal {
        background: rgba(15,18,25,0.98);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 40px;
        max-width: 600px;
        width: 100%;
        max-height: 85vh;
        overflow-y: auto;
        position: relative;
    }

    .modal-close {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        color: var(--text-secondary);
        font-size: 1.5rem;
        cursor: pointer;
        transition: color 0.3s;
        z-index: 10;
    }

    .modal-close:hover {
        color: var(--primary);
    }

    .modal h2 {
        font-size: 1.8rem;
        font-weight: 800;
        margin-bottom: 20px;
        background: linear-gradient(135deg, var(--primary), var(--primary-bright));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .modal-text {
        color: var(--text-secondary);
        line-height: 1.8;
        font-size: 0.95rem;
    }

    .modal-text h3 {
        color: var(--text);
        font-size: 1.1rem;
        margin: 20px 0 10px;
    }

    .modal-text ul {
        padding-left: 20px;
        margin: 10px 0;
    }

    .modal-text ul li {
        margin-bottom: 8px;
    }

    /* ===== AUTH MODAL ===== */
    .auth-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 25px;
    }

    .auth-tab {
        flex: 1;
        padding: 12px;
        background: rgba(255,255,255,0.05);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        color: var(--text-secondary);
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.3s;
    }

    .auth-tab.active {
        background: rgba(34,197,94,0.15);
        border-color: var(--primary);
        color: var(--primary);
    }

    .auth-form {
        display: none;
    }

    .auth-form.active {
        display: block;
    }

    /* ===== NEWS VIEW MODAL ===== */
    .news-view-modal {
        max-width: 750px;
    }

    .news-view-modal .news-view-img {
        width: 100%;
        max-height: 400px;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 20px;
    }

    .news-view-modal .news-view-date {
        color: var(--primary);
        font-weight: 600;
        font-size: 0.85rem;
        margin-bottom: 10px;
    }

    .news-view-modal .news-view-title {
        font-size: 1.6rem;
        font-weight: 800;
        margin-bottom: 20px;
        background: linear-gradient(135deg, var(--primary), var(--primary-bright));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .news-view-modal .news-view-text {
        color: var(--text-secondary);
        line-height: 1.8;
        font-size: 0.95rem;
        white-space: pre-line;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* ===== NEWS EDITOR MODAL ===== */
    .news-editor-modal {
        max-width: 800px;
    }

    .news-preview {
        background: rgba(0,0,0,0.3);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 20px;
        margin-top: 15px;
        display: none;
    }

    .news-preview.active {
        display: block;
    }

    .news-preview img {
        width: 100%;
        max-height: 300px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 15px;
    }

    .news-preview h3 {
        font-size: 1.2rem;
        margin-bottom: 10px;
    }

    .news-preview p {
        color: var(--text-secondary);
        font-size: 0.9rem;
        line-height: 1.6;
    }

    /* Discord webhook preview */
    .webhook-preview {
        background: #36393f;
        border-radius: 8px;
        padding: 16px;
        margin-top: 15px;
        display: none;
        border-left: 4px solid var(--primary);
    }

    .webhook-preview.active {
        display: block;
    }

    .webhook-preview .wh-author {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
    }

    .webhook-preview .wh-author img {
        width: 24px;
        height: 24px;
        border-radius: 50%;
    }

    .webhook-preview .wh-author span {
        color: #fff;
        font-weight: 600;
        font-size: 0.85rem;
    }

    .webhook-preview .wh-title {
        color: #00b0f4;
        font-weight: 600;
        font-size: 0.95rem;
        margin-bottom: 4px;
    }

    .webhook-preview .wh-desc {
        color: #dcddde;
        font-size: 0.85rem;
        line-height: 1.4;
    }

    .webhook-preview .wh-img {
        width: 100%;
        max-height: 200px;
        object-fit: cover;
        border-radius: 4px;
        margin-top: 8px;
    }

    /* ===== ADMIN PANEL MODAL ===== */
    .admin-photo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 10px;
        max-height: 400px;
        overflow-y: auto;
        margin: 15px 0;
    }

    .admin-photo-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.3s;
    }

    .admin-photo-item:hover {
        border-color: rgba(34,197,94,0.5);
    }

    .admin-photo-item.selected {
        border-color: var(--primary);
        box-shadow: 0 0 15px rgba(34,197,94,0.3);
    }

    .admin-photo-item img {
        width: 100%;
        height: 90px;
        object-fit: cover;
    }

    .admin-photo-item .photo-index {
        position: absolute;
        top: 5px;
        right: 5px;
        background: var(--primary);
        color: #000;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
    }

    /* ===== MENU EDITOR ‚Äî –ü–†–û–°–¢–ò–ô –¢–ï–ö–°–¢–û–í–ò–ô ===== */
    .menu-editor-modal {
        max-width: 700px;
    }

    .menu-editor-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }

    .menu-editor-tab {
        flex: 1;
        padding: 12px;
        background: rgba(255,255,255,0.05);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        color: var(--text-secondary);
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.3s;
    }

    .menu-editor-tab.active {
        background: rgba(34,197,94,0.15);
        border-color: var(--primary);
        color: var(--primary);
    }

    .menu-editor-section {
        display: none;
    }

    .menu-editor-section.active {
        display: block;
    }

    .menu-editor-toolbar {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
    }

    .menu-editor-toolbar button {
        padding: 8px 14px;
        background: rgba(255,255,255,0.05);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        color: var(--text-secondary);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .menu-editor-toolbar button:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .menu-editor-textarea {
        width: 100%;
        min-height: 250px;
        padding: 16px;
        background: rgba(15,18,25,0.8);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        color: var(--text);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.9rem;
        line-height: 1.8;
        resize: vertical;
    }

    .menu-editor-textarea:focus {
        outline: none;
        border-color: var(--primary);
    }

    .menu-editor-hint {
        margin-top: 10px;
        padding: 12px;
        background: rgba(34,197,94,0.05);
        border: 1px solid rgba(34,197,94,0.1);
        border-radius: 8px;
        font-size: 0.8rem;
        color: var(--text-secondary);
        line-height: 1.6;
    }

    .menu-editor-hint code {
        background: rgba(255,255,255,0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.75rem;
    }

    /* ===== LINKS MANAGER ===== */
    .links-manager-modal {
        max-width: 700px;
    }

    .links-list {
        max-height: 400px;
        overflow-y: auto;
        margin: 15px 0;
    }

    .link-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 16px;
        background: rgba(255,255,255,0.03);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        margin-bottom: 8px;
        transition: all 0.2s;
    }

    .link-item:hover {
        border-color: rgba(34,197,94,0.3);
    }

    .link-item-info {
        display: flex;
        flex-direction: column;
        gap: 4px;
        flex: 1;
        min-width: 0;
    }

    .link-item-title {
        font-weight: 600;
        font-size: 0.9rem;
    }

    .link-item-url {
        font-size: 0.75rem;
        color: var(--text-secondary);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .link-item-category {
        font-size: 0.7rem;
        color: var(--primary);
        background: rgba(34,197,94,0.1);
        padding: 2px 8px;
        border-radius: 20px;
        margin-top: 4px;
        display: inline-block;
        width: fit-content;
    }

    .link-item-actions {
        display: flex;
        gap: 6px;
        margin-left: 12px;
    }

    .link-item-actions button {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        border: 1px solid var(--glass-border);
        background: none;
        color: var(--text-secondary);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
    }

    .link-item-actions button:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .link-item-actions button.delete:hover {
        border-color: #ef4444;
        color: #ef4444;
    }

    .link-form {
        background: rgba(0,0,0,0.2);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 20px;
        margin-top: 15px;
    }

    .link-form h4 {
        margin-bottom: 15px;
        font-size: 1rem;
        color: var(--primary);
    }

    /* ===== WEBHOOK SETTINGS ===== */
    .webhook-settings {
        background: rgba(0,0,0,0.2);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
    }

    .webhook-settings h4 {
        font-size: 0.95rem;
        color: var(--primary);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    /* ===== CONTEXT MENU ===== */
    .context-menu {
        position: fixed;
        background: rgba(15,18,25,0.98);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 8px;
        min-width: 180px;
        z-index: 3000;
        display: none;
        box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }

    .context-menu.show {
        display: block;
    }

    .context-menu button {
        width: 100%;
        padding: 10px 16px;
        background: none;
        border: none;
        color: var(--text);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.85rem;
        text-align: left;
        cursor: pointer;
        border-radius: 8px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .context-menu button:hover {
        background: rgba(34,197,94,0.1);
        color: var(--primary);
    }

    .context-menu button.delete-btn:hover {
        background: rgba(239,68,68,0.1);
        color: #ef4444;
    }

    /* ===== TOAST ===== */
    .toast-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 5000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .toast {
        padding: 14px 24px;
        background: rgba(15,18,25,0.95);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        color: var(--text);
        font-family: 'Montserrat', sans-serif;
        font-size: 0.85rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 10px;
        animation: toastIn 0.4s ease;
        max-width: 350px;
    }

    .toast.success {
        border-color: rgba(34,197,94,0.4);
    }

    .toast.error {
        border-color: rgba(239,68,68,0.4);
    }

    .toast.info {
        border-color: rgba(59,130,246,0.4);
    }

    .toast-icon {
        font-size: 1.1rem;
    }

    .toast.success .toast-icon { color: var(--primary); }
    .toast.error .toast-icon { color: #ef4444; }
    .toast.info .toast-icon { color: #3b82f6; }

    @keyframes toastIn {
        from { opacity: 0; transform: translateX(50px); }
        to { opacity: 1; transform: translateX(0); }
    }
            /* ===== RESPONSIVE ===== */
    @media (max-width: 1024px) {
        .why-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .features-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .news-slide {
            min-width: calc(50% - 20px);
        }
    }

    @media (max-width: 950px) {
        .nav-links {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(3,5,7,0.98);
            backdrop-filter: blur(20px);
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
            z-index: 999;
        }

        .nav-links.active {
            display: flex;
        }

        .nav-links a {
            font-size: 1.2rem;
        }

        .burger {
            display: flex;
        }

        .admin-dropdown {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1001;
        }

        .admin-dropdown-menu {
            top: auto;
            bottom: calc(100% + 8px);
            right: 0;
        }
    }

    @media (max-width: 768px) {
        .nav {
            padding: 15px 25px;
        }

        .nav.scrolled {
            padding: 10px 25px;
        }

        .hero h1 {
            font-size: 2.5rem;
        }

        .hero p {
            font-size: 1rem;
            padding: 0 20px;
        }

        .hero-stats {
            gap: 30px;
        }

        .hero-stat .number {
            font-size: 1.8rem;
        }

        .section {
            padding: 60px 25px;
        }

        .section-header h2 {
            font-size: 1.8rem;
        }

        .why-grid {
            grid-template-columns: 1fr;
        }

        .features-grid {
            grid-template-columns: 1fr;
        }

        .gallery-main {
            height: 300px;
        }

        .form-container {
            padding: 30px 20px;
        }

        .modal {
            padding: 30px 20px;
            margin: 10px;
            max-height: 90vh;
        }

        .footer {
            padding: 40px 25px;
        }

        .footer-content {
            flex-direction: column;
            text-align: center;
        }

        .footer-links {
            flex-wrap: wrap;
            justify-content: center;
        }

        /* News slider ‚Äî 1 –∫–∞—Ä—Ç–∫–∞ –Ω–∞ –º–æ–±—ñ–ª—Ü—ñ */
        .news-slide {
            min-width: calc(100% - 20px);
        }

        .news-slider-btn {
            width: 40px;
            height: 40px;
            font-size: 1rem;
        }

        .news-slider-btn.prev { left: -10px; }
        .news-slider-btn.next { right: -10px; }

        /* News view modal ‚Äî —Ñ—ñ–∫—Å –≤—ñ–¥—Å—Ç—É–ø—ñ–≤ */
        .news-view-modal .news-view-text {
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-line;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
        }

        .news-view-modal .news-view-title {
            font-size: 1.3rem;
        }

        .news-view-modal .news-view-img {
            max-height: 250px;
        }

        .news-view-modal {
            padding: 25px 18px;
        }
    }

    @media (max-width: 480px) {
        .hero h1 {
            font-size: 2rem;
        }

        .hero-buttons {
            flex-direction: column;
            align-items: center;
        }

        .hero-stats {
            flex-direction: column;
            gap: 20px;
        }

        .gallery-main {
            height: 220px;
        }

        .gallery-thumb {
            width: 50px;
            height: 35px;
        }

        .section-header h2 {
            font-size: 1.5rem;
        }

        .news-slider-btn.prev { left: -5px; }
        .news-slider-btn.next { right: -5px; }

        .news-slider-btn {
            width: 35px;
            height: 35px;
            font-size: 0.9rem;
        }

        .news-card-body {
            padding: 18px;
        }

        .news-card-footer {
            padding: 0 18px 18px;
        }

        .news-card-body h3 {
            font-size: 1rem;
        }

        .news-view-modal .news-view-text {
            font-size: 0.85rem;
            line-height: 1.65;
        }

        .news-view-modal {
            padding: 20px 15px;
        }
    }

    /* ===== SCROLLBAR ===== */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(34,197,94,0.3);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(34,197,94,0.5);
    }

</style>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
        <button onclick="editNewsFromContext()"><i class="fas fa-edit"></i> –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
        <button class="delete-btn" onclick="deleteNewsFromContext()"><i class="fas fa-trash"></i> –í–∏–¥–∞–ª–∏—Ç–∏</button>
    </div>

    <!-- Navigation -->
    <nav class="nav" id="navbar">
        <a href="#" class="nav-logo">
            <img src="https://i.imgur.com/TGRxJgE.png" alt="–î–®–í Logo">
            <span>–î–®–í UKRAINE</span>
        </a>

        <ul class="nav-links" id="navLinks">
            <li><a href="#about" onclick="openModal('aboutModal')">–ü—Ä–æ –Ω–∞—Å</a></li>
            <li><a href="#requirements" onclick="openModal('reqModal')">–í–∏–º–æ–≥–∏</a></li>
            <li><a href="#gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
            <li><a href="#news">–ù–æ–≤–∏–Ω–∏</a></li>
            <li><a href="#apply">–ü–æ–¥–∞—Ç–∏ —Ä–∞–ø–æ—Ä—Ç</a></li>
            <li><a href="#" id="authLink" onclick="openModal('authModal')">–£–≤—ñ–π—Ç–∏</a></li>
        </ul>

        <div class="admin-dropdown" id="adminDropdown">
            <button class="admin-dropdown-btn" id="adminDropdownBtn">
                <i class="fas fa-shield-alt"></i> –ê–¥–º—ñ–Ω
                <i class="fas fa-chevron-down" style="font-size:0.7rem"></i>
            </button>
            <div class="admin-dropdown-menu" id="adminDropdownMenu">
                <button onclick="openModal('adminPanel')"><i class="fas fa-images"></i> –§–æ—Ç–æ —Å–µ–∫—Ü—ñ—ó</button>
                <button onclick="openNewsEditor()"><i class="fas fa-newspaper"></i> –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É</button>
                <button onclick="openModal('linksManagerModal')"><i class="fas fa-link"></i> –ü–æ—Å–∏–ª–∞–Ω–Ω—è</button>
                <button onclick="openModal('menuEditorModal')"><i class="fas fa-file-alt"></i> –¢–µ–∫—Å—Ç–∏ –º–µ–Ω—é</button>
                <button onclick="openWebhookSettings()"><i class="fab fa-discord"></i> Webhook –Ω–æ–≤–∏–Ω</button>
                <button onclick="window.location.href='cabinet.html'"><i class="fas fa-user-cog"></i> –ö–∞–±—ñ–Ω–µ—Ç</button>
            </div>
        </div>

        <button class="burger" id="burger">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Hero -->
    <section class="hero" id="home">
        <div class="hero-content" data-aos="fade-up">
            <div class="hero-badge">–î–ï–°–ê–ù–¢–ù–û-–®–¢–£–†–ú–û–í–Ü –í–Ü–ô–°–¨–ö–ê</div>
            <h1>–°–∏–ª–∞. –ß–µ—Å—Ç—å.<br><span class="green">–ü–µ—Ä–µ–º–æ–≥–∞.</span></h1>
            <p>–ï–ª—ñ—Ç–Ω–∏–π –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª –ó–±—Ä–æ–π–Ω–∏—Ö –°–∏–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ UKRAINE GTA. –ú–∏ ‚Äî —Ç—ñ, —Ö—Ç–æ –¥—ñ—î –ø–µ—Ä—à–∏–º–∏.</p>
            <div class="hero-buttons">
                <a href="#apply" class="btn-primary"><i class="fas fa-paper-plane"></i> –ü–æ–¥–∞—Ç–∏ —Ä–∞–ø–æ—Ä—Ç</a>
                <a href="#about" class="btn-secondary" onclick="openModal('aboutModal')"><i class="fas fa-info-circle"></i> –î—ñ–∑–Ω–∞—Ç–∏—Å—å –±—ñ–ª—å—à–µ</a>
            </div>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="number" id="fighterCount">0</span>
                    <span class="label">–ë—ñ–π—Ü—ñ–≤ —É —Å—Ç—Ä–æ—é</span>
                </div>
                <div class="hero-stat">
                    <span class="number">24/7</span>
                    <span class="label">–ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</span>
                </div>
                <div class="hero-stat">
                    <span class="number">#1</span>
                    <span class="label">–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª —Å–µ—Ä–≤–µ—Ä–∞</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Section -->
    <section class="section" id="why">
        <div class="section-header" data-aos="fade-up">
            <h2>–ß–æ–º—É —Å–∞–º–µ <span class="green">–î–®–í</span>?</h2>
            <p>–¢—Ä–∏ –ø—Ä–∏—á–∏–Ω–∏ —Å—Ç–∞—Ç–∏ —á–∞—Å—Ç–∏–Ω–æ—é –Ω–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏</p>
        </div>
        <div class="why-grid" id="whyGrid">
            <div class="why-card" data-aos="fade-up" data-aos-delay="100">
                <img src="https://i.imgur.com/placeholder1.png" class="why-card-img" id="whyImg1" alt="">
                <div class="why-card-content">
                    <h3>üéØ –ë–æ–π–æ–≤–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞</h3>
                    <p>–†–µ–≥—É–ª—è—Ä–Ω—ñ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –±–æ–π–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ —Ä–æ–±–ª—è—Ç—å –Ω–∞—Å –Ω–∞–π—Å–∏–ª—å–Ω—ñ—à–∏–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.</p>
                </div>
            </div>
            <div class="why-card" data-aos="fade-up" data-aos-delay="200">
                <img src="https://i.imgur.com/placeholder2.png" class="why-card-img" id="whyImg2" alt="">
                <div class="why-card-content">
                    <h3>ü§ù –ë—Ä–∞—Ç–µ—Ä—Å—Ç–≤–æ</h3>
                    <p>–ú–∏ ‚Äî –æ–¥–Ω–∞ —Å—ñ–º'—è. –ö–æ–∂–µ–Ω –±–æ—î—Ü—å –º–æ–∂–µ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç–∞ –¥–æ–ø–æ–º–æ–≥—É —Ç–æ–≤–∞—Ä–∏—à—ñ–≤.</p>
                </div>
            </div>
            <div class="why-card" data-aos="fade-up" data-aos-delay="300">
                <img src="https://i.imgur.com/placeholder3.png" class="why-card-img" id="whyImg3" alt="">
                <div class="why-card-content">
                    <h3>‚≠ê –ö–∞—Ä'—î—Ä–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è</h3>
                    <p>–í—ñ–¥ —Ä—è–¥–æ–≤–æ–≥–æ –¥–æ –∫–æ–º–∞–Ω–¥–∏—Ä–∞ ‚Äî —É –Ω–∞—Å –∫–æ–∂–µ–Ω –º–∞—î —à–∞–Ω—Å –ø—Ä–æ—è–≤–∏—Ç–∏ —Å–µ–±–µ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è.</p>
                </div>
            </div>
        </div>
    </section>
        <!-- Features -->
    <section class="section" id="features" style="background: rgba(0,0,0,0.3);">
        <div class="section-header" data-aos="fade-up">
            <h2>–ù–∞—à—ñ <span class="green">–ø–µ—Ä–µ–≤–∞–≥–∏</span></h2>
            <p>–©–æ —Ä–æ–±–∏—Ç—å –Ω–∞—Å –æ—Å–æ–±–ª–∏–≤–∏–º–∏</p>
        </div>
        <div class="features-grid">
            <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-icon"><i class="fas fa-graduation-cap"></i></div>
                <h3>–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞</h3>
                <p>–ö—É—Ä—Å –≤—ñ–π—Å—å–∫–æ–≤–æ—ó —Ç–∞ —Ç–∞–∫—Ç–∏—á–Ω–æ—ó –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –≤—ñ–¥ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤.</p>
            </div>
            <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-icon"><i class="fas fa-jet-fighter"></i></div>
                <h3>–ë–æ–π–æ–≤–∞ –∞–≤—ñ–∞—Ü—ñ—è</h3>
                <p>–î–æ—Å—Ç—É–ø –¥–æ –≤–∏–Ω–∏—â—É–≤–∞—á—ñ–≤ F-16, –ú—ñ–ì-29 —Ç–∞ –≥–≤–∏–Ω—Ç–æ–∫—Ä–∏–ª—ñ–≤ –ú—ñ-24, –ú—ñ-8.</p>
            </div>
            <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-icon"><i class="fas fa-users"></i></div>
                <h3>–ë–æ–π–æ–≤–µ –±—Ä–∞—Ç—Å—Ç–≤–æ</h3>
                <p>–°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç–∏–Ω–æ—é –∫–æ–º–∞–Ω–¥–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —Ç–∞ –æ–¥–Ω–æ–¥—É–º—Ü—ñ–≤.</p>
            </div>
            <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                <h3>–ö–∞—Ä'—î—Ä–Ω–∏–π —Ä—ñ—Å—Ç</h3>
                <p>–†–µ–∞–ª—å–Ω–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —à–≤–∏–¥–∫–æ–≥–æ –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è –ø–æ —Å–ª—É–∂–±—ñ.</p>
            </div>
            <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-icon"><i class="fas fa-crosshairs"></i></div>
                <h3>–†–µ–∞–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó</h3>
                <p>–£—á–∞—Å—Ç—å —É –Ω–∞–π–º–∞—Å—à—Ç–∞–±–Ω—ñ—à–∏—Ö —Å–ø–µ—Ü–æ–ø–µ—Ä—Ü—ñ—è—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.</p>
            </div>
            <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-icon"><i class="fas fa-coins"></i></div>
                <h3>–ì—ñ–¥–Ω–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞</h3>
                <p>–í–∏—Å–æ–∫—ñ –≤–∏–ø–ª–∞—Ç–∏ –∑–∞ —É—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±–æ–π–æ–≤–∏—Ö –º—ñ—Å—ñ–π.</p>
            </div>
        </div>
    </section>

    <!-- Gallery -->
    <section class="section" id="gallery">
        <div class="section-header" data-aos="fade-up">
            <h2>–ù–∞—à—ñ –Ω–∞–π–∫—Ä–∞—â—ñ <span class="green">–º–æ–º–µ–Ω—Ç–∏</span></h2>
            <p>–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –∑ –æ–ø–µ—Ä–∞—Ü—ñ–π —Ç–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω—å</p>
        </div>
        <div class="gallery-container" data-aos="fade-up">
            <div class="gallery-main" id="galleryMain">
                <img src="" alt="Gallery" id="galleryMainImg">
                <button class="gallery-nav-btn prev" onclick="changeGalleryPhoto(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="gallery-nav-btn next" onclick="changeGalleryPhoto(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="gallery-caption" id="galleryCaption">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
            </div>
            <div class="gallery-thumbs" id="galleryThumbs"></div>
            <div class="gallery-link">
                <a href="gallery.html">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—é –≥–∞–ª–µ—Ä–µ—é <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <!-- News -->
    <section class="section" id="news" style="background: rgba(0,0,0,0.3);">
        <div class="section-header" data-aos="fade-up">
            <h2>–ù–æ–≤–∏–Ω–∏ <span class="green">–ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É</span></h2>
            <p>–û—Å—Ç–∞–Ω–Ω—ñ –ø–æ–¥—ñ—ó —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</p>
        </div>
        <div class="news-slider-container" id="newsContainer" data-aos="fade-up">
            <!-- –°—Ç—Ä—ñ–ª–∫–∏ —Å–ª–∞–π–¥–µ—Ä–∞ -->
            <button class="news-slider-btn prev" id="newsPrevBtn" onclick="slideNews(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="news-slider-btn next" id="newsNextBtn" onclick="slideNews(1)">
                <i class="fas fa-chevron-right"></i>
            </button>

            <!-- –û–±–≥–æ—Ä—Ç–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ -->
            <div class="news-slider-wrapper">
                <div class="news-slider-track" id="newsTrack">
                    <!-- –ù–æ–≤–∏–Ω–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –¢–æ—á–∫–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó -->
            <div class="news-slider-dots" id="newsDots"></div>
        </div>

        <!-- –Ø–∫—â–æ –Ω–æ–≤–∏–Ω –Ω–µ–º–∞—î -->
        <div class="news-empty" id="newsEmpty" style="display:none;">
            <i class="fas fa-newspaper"></i>
            <p>–ù–æ–≤–∏–Ω–∏ —Å–∫–æ—Ä–æ –∑'—è–≤–ª—è—Ç—å—Å—è...</p>
        </div>
    </section>

    <!-- Application Form -->
    <section class="section" id="apply">
        <div class="section-header" data-aos="fade-up">
            <h2>–ü–æ–¥–∞—Ç–∏ <span class="green">—Ä–∞–ø–æ—Ä—Ç</span></h2>
            <p>–ó–∞–ø–æ–≤–Ω–∏ —Ñ–æ—Ä–º—É —Ç–∞ —Å—Ç–∞–Ω—å —á–∞—Å—Ç–∏–Ω–æ—é –Ω–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏</p>
        </div>
        <div class="form-container" data-aos="fade-up">
            <form id="applicationForm">
                <div class="form-group">
                    <label>–í–∞—à NickName</label>
                    <input type="text" id="appName" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —ñ–≥—Ä–æ–≤–∏–π –Ω—ñ–∫" required>
                </div>
                <div class="form-group">
                    <label>–í–∞—à —Ä–µ–∞–ª—å–Ω–∏–π –≤—ñ–∫</label>
                    <input type="number" id="appAge" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –≤—ñ–∫" required min="1" max="99">
                </div>
                <div class="form-group">
                    <label>–í–∞—à–µ –∑–≤–∞–Ω–Ω—è</label>
                    <input type="text" id="appRank" placeholder="–Ø–∫–µ –≤–∞—à–µ –ø–æ—Ç–æ—á–Ω–µ –∑–≤–∞–Ω–Ω—è?" required>
                </div>
                <div class="form-group">
                    <label>–í–∞—à Discord</label>
                    <input type="text" id="appDiscord" placeholder="username#0000" required>
                </div>
                <div class="form-group">
                    <label>–í–∞—à–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—è</label>
                    <textarea id="appMotivation" placeholder="–ß–æ–º—É –≤–∏ —Ö–æ—á–µ—Ç–µ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –î–®–í?" required></textarea>
                </div>
                <button type="submit" class="form-submit" id="appSubmitBtn">
                    <i class="fas fa-paper-plane"></i> –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ä–∞–ø–æ—Ä—Ç
                </button>
            </form>
            <!-- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ -->
            <div id="appSuccess" style="display:none; text-align:center; padding:40px 0;">
                <i class="fas fa-check-circle" style="font-size:3rem; color:var(--primary); margin-bottom:15px;"></i>
                <h3 style="font-size:1.3rem; margin-bottom:10px;">–†–∞–ø–æ—Ä—Ç –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!</h3>
                <p style="color:var(--text-secondary);">–û—á—ñ–∫—É–π –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ –∫–æ–º–∞–Ω–¥—É–≤–∞–Ω–Ω—è –î–®–í</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="https://i.imgur.com/TGRxJgE.png" alt="–î–®–í">
                <span>–î–®–í UKRAINE GTA</span>
            </div>
            <div class="footer-links">
                <a href="#" onclick="openModal('aboutModal')">–ü—Ä–æ –Ω–∞—Å</a>
                <a href="#" onclick="openModal('reqModal')">–í–∏–º–æ–≥–∏</a>
                <a href="gallery.html">–ì–∞–ª–µ—Ä–µ—è</a>
                <a href="https://ukraine-gta.com.ua/uk/" target="_blank">–ü—Ä–æ—î–∫—Ç</a>
            </div>
            <div class="footer-social">
                <a href="https://discord.gg/ukrainegta" target="_blank" rel="nofollow"><i class="fab fa-discord"></i></a>
                <a href="https://www.instagram.com/ukraine_gta" target="_blank" rel="nofollow"><i class="fab fa-instagram"></i></a>
                <a href="https://www.youtube.com/channel/UCAyONHpqibQDDrCxGiYc_hQ" target="_blank" rel="nofollow"><i class="fab fa-youtube"></i></a>
                <a href="https://www.tiktok.com/@ukraine_gta" target="_blank" rel="nofollow"><i class="fab fa-tiktok"></i></a>
                <a href="https://t.me/ukraine_gta" target="_blank" rel="nofollow"><i class="fab fa-telegram"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2022 ‚Äî 2026 UKRAINE GTA. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
            <div class="footer-tags">
                <span>–î–®–í</span>
                <span>UKRAINE GTA</span>
                <span>–ó–°–£</span>
                <span>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ –£–∫—Ä–∞—ó–Ω–∞</span>
            </div>
        </div>
    </footer>
        <!-- ===== MODAL: –ü—Ä–æ –Ω–∞—Å ===== -->
    <div class="modal-overlay" id="aboutModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('aboutModal')">&times;</button>
            <h2>–ü—Ä–æ –î–®–í</h2>
            <div class="modal-text" id="aboutModalText">
                –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...
            </div>
        </div>
    </div>

    <!-- ===== MODAL: –í–∏–º–æ–≥–∏ ===== -->
    <div class="modal-overlay" id="reqModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('reqModal')">&times;</button>
            <h2>–í–∏–º–æ–≥–∏ –¥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤</h2>
            <div class="modal-text" id="reqModalText">
                –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...
            </div>
        </div>
    </div>

    <!-- ===== MODAL: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è ===== -->
    <div class="modal-overlay" id="authModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('authModal')">&times;</button>
            <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</h2>
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">–í—Ö—ñ–¥</button>
                <button class="auth-tab" onclick="switchAuthTab('register')">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="form-submit">–£–≤—ñ–π—Ç–∏</button>
            </form>

            <!-- Register Form -->
            <form class="auth-form" id="registerForm" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label>–í–∞—à NickName</label>
                    <input type="text" id="regName" placeholder="–í–∞—à–µ —ñ–º'—è" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="regEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="regPassword" placeholder="–ú—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤" required minlength="6">
                </div>
                <button type="submit" class="form-submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</button>
            </form>
        </div>
    </div>

    <!-- ===== MODAL: –ü–µ—Ä–µ–≥–ª—è–¥ –Ω–æ–≤–∏–Ω–∏ ===== -->
    <div class="modal-overlay" id="newsViewModal">
        <div class="modal news-view-modal">
            <button class="modal-close" onclick="closeModal('newsViewModal')">&times;</button>
            <img src="" class="news-view-img" id="newsViewImg" alt="">
            <div class="news-view-date" id="newsViewDate"></div>
            <div class="news-view-title" id="newsViewTitle"></div>
            <div class="news-view-text" id="newsViewText"></div>
        </div>
    </div>

    <!-- ===== MODAL: –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–∏–Ω ===== -->
    <div class="modal-overlay" id="newsEditorModal">
        <div class="modal news-editor-modal">
            <button class="modal-close" onclick="closeModal('newsEditorModal')">&times;</button>
            <h2 id="newsEditorTitle">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É</h2>

            <form id="newsEditorForm" onsubmit="saveNews(event)">
                <input type="hidden" id="newsEditId" value="">

                <div class="form-group">
                    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input type="text" id="newsTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–∏–Ω–∏" required>
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å</label>
                    <textarea id="newsDescription" placeholder="–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –Ω–æ–≤–∏–Ω–∏..." required style="min-height:150px;"></textarea>
                </div>
                <div class="form-group">
                    <label>URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
                    <input type="url" id="newsImageUrl" placeholder="https://i.imgur.com/..." required>
                </div>
                <div class="form-group">
                    <label>–ü–æ—Å–∏–ª–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
                    <input type="url" id="newsLink" placeholder="https://...">
                </div>
                <div class="form-group">
                    <label>–î–∞—Ç–∞</label>
                    <input type="date" id="newsDate" required>
                </div>

                <!-- –ü—Ä–µ–≤ º—é –Ω–æ–≤–∏–Ω–∏ -->
                <div style="margin-bottom:15px;">
                    <button type="button" class="btn-secondary" onclick="toggleNewsPreview()" style="padding:10px 20px; font-size:0.85rem;">
                        <i class="fas fa-eye"></i> –ü—Ä–µ–≤ º—é
                    </button>
                    <button type="button" class="btn-secondary" onclick="toggleWebhookPreview()" style="padding:10px 20px; font-size:0.85rem; margin-left:8px;">
                        <i class="fab fa-discord"></i> Discord –ø—Ä–µ–≤ º—é
                    </button>
                </div>

                <div class="news-preview" id="newsPreview">
                    <img src="" id="newsPreviewImg" alt="">
                    <h3 id="newsPreviewTitle"></h3>
                    <p id="newsPreviewDesc"></p>
                </div>

                <div class="webhook-preview" id="webhookPreview">
                    <div class="wh-author">
                        <img src="https://i.imgur.com/TGRxJgE.png" alt="">
                        <span>–î–®–í UKRAINE</span>
                    </div>
                    <div class="wh-title" id="whPreviewTitle"></div>
                    <div class="wh-desc" id="whPreviewDesc"></div>
                    <img src="" class="wh-img" id="whPreviewImg" alt="">
                </div>

                <button type="submit" class="form-submit" id="newsSubmitBtn">
                    <i class="fas fa-save"></i> –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏
                </button>
            </form>
        </div>
    </div>

    <!-- ===== MODAL: –ê–¥–º—ñ–Ω –≤–∏–±—ñ—Ä —Ñ–æ—Ç–æ ===== -->
    <div class="modal-overlay" id="adminPanel">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('adminPanel')">&times;</button>
            <h2>–§–æ—Ç–æ —Å–µ–∫—Ü—ñ—ó "–ß–æ–º—É –î–®–í"</h2>
            <p style="color:var(--text-secondary); font-size:0.85rem; margin-bottom:15px;">
                –û–±–µ—Ä—ñ—Ç—å 3 —Ñ–æ—Ç–æ –¥–ª—è –∫–∞—Ä—Ç–æ–∫. –ö–ª—ñ–∫–Ω—ñ—Ç—å —â–æ–± –æ–±—Ä–∞—Ç–∏ –¥–ª—è –∫–∞—Ä—Ç–∫–∏ 1, 2, –∞–±–æ 3.
            </p>
            <div style="display:flex; gap:10px; margin-bottom:15px;">
                <button class="btn-secondary admin-slot-btn active" onclick="selectAdminSlot(0)" id="slotBtn0" style="padding:8px 16px; font-size:0.8rem;">–ö–∞—Ä—Ç–∫–∞ 1</button>
                <button class="btn-secondary admin-slot-btn" onclick="selectAdminSlot(1)" id="slotBtn1" style="padding:8px 16px; font-size:0.8rem;">–ö–∞—Ä—Ç–∫–∞ 2</button>
                <button class="btn-secondary admin-slot-btn" onclick="selectAdminSlot(2)" id="slotBtn2" style="padding:8px 16px; font-size:0.8rem;">–ö–∞—Ä—Ç–∫–∞ 3</button>
            </div>
            <div class="admin-photo-grid" id="adminPhotoGrid">
                <!-- –ó–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
            <button class="form-submit" onclick="saveFeaturedPhotos()" style="margin-top:15px;">
                <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏
            </button>
        </div>
    </div>

    <!-- ===== MODAL: –†–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç—ñ–≤ –º–µ–Ω—é (–ü–†–û–°–¢–ò–ô) ===== -->
    <div class="modal-overlay" id="menuEditorModal">
        <div class="modal menu-editor-modal">
            <button class="modal-close" onclick="closeModal('menuEditorModal')">&times;</button>
            <h2>–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—ñ–≤</h2>

            <div class="menu-editor-tabs">
                <button class="menu-editor-tab active" onclick="switchMenuEditorTab('about')">–ü—Ä–æ –Ω–∞—Å</button>
                <button class="menu-editor-tab" onclick="switchMenuEditorTab('requirements')">–í–∏–º–æ–≥–∏</button>
            </div>

            <!-- –ü—Ä–æ –Ω–∞—Å -->
            <div class="menu-editor-section active" id="menuEditorAbout">
                <div class="menu-editor-toolbar">
                    <button type="button" onclick="insertMenuTag('about', 'heading')">
                        <i class="fas fa-heading"></i> –ó–∞–≥–æ–ª–æ–≤–æ–∫
                    </button>
                    <button type="button" onclick="insertMenuTag('about', 'list')">
                        <i class="fas fa-list"></i> –ü—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É
                    </button>
                    <button type="button" onclick="insertMenuTag('about', 'separator')">
                        <i class="fas fa-minus"></i> –†–æ–∑–¥—ñ–ª—é–≤–∞—á
                    </button>
                </div>
                <textarea class="menu-editor-textarea" id="menuAboutText" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–æ –î–®–í..."></textarea>
                <div class="menu-editor-hint">
                    <strong>–ü—ñ–¥–∫–∞–∑–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:</strong><br>
                    <code>## –ó–∞–≥–æ–ª–æ–≤–æ–∫</code> ‚Äî –∑—Ä–æ–±–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫<br>
                    <code>- —Ç–µ–∫—Å—Ç</code> ‚Äî –∑—Ä–æ–±–∏—Ç—å –ø—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É<br>
                    <code>---</code> ‚Äî —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á<br>
                    –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫ ‚Äî –Ω–æ–≤–∏–π –∞–±–∑–∞—Ü
                </div>
            </div>

            <!-- –í–∏–º–æ–≥–∏ -->
            <div class="menu-editor-section" id="menuEditorReq">
                <div class="menu-editor-toolbar">
                    <button type="button" onclick="insertMenuTag('req', 'heading')">
                        <i class="fas fa-heading"></i> –ó–∞–≥–æ–ª–æ–≤–æ–∫
                    </button>
                    <button type="button" onclick="insertMenuTag('req', 'list')">
                        <i class="fas fa-list"></i> –ü—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É
                    </button>
                    <button type="button" onclick="insertMenuTag('req', 'separator')">
                        <i class="fas fa-minus"></i> –†–æ–∑–¥—ñ–ª—é–≤–∞—á
                    </button>
                </div>
                <textarea class="menu-editor-textarea" id="menuReqText" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∏–º–æ–≥–∏ –¥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤..."></textarea>
                <div class="menu-editor-hint">
                    <strong>–ü—ñ–¥–∫–∞–∑–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:</strong><br>
                    <code>## –ó–∞–≥–æ–ª–æ–≤–æ–∫</code> ‚Äî –∑—Ä–æ–±–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫<br>
                    <code>- —Ç–µ–∫—Å—Ç</code> ‚Äî –∑—Ä–æ–±–∏—Ç—å –ø—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É<br>
                    <code>---</code> ‚Äî —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á<br>
                    –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫ ‚Äî –Ω–æ–≤–∏–π –∞–±–∑–∞—Ü
                </div>
            </div>

            <button class="form-submit" onclick="saveMenuContent()" style="margin-top:20px;">
                <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–µ–∫—Å—Ç–∏
            </button>
        </div>
    </div>

    <!-- ===== MODAL: –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ—Å–∏–ª–∞–Ω—å ===== -->
    <div class="modal-overlay" id="linksManagerModal">
        <div class="modal links-manager-modal">
            <button class="modal-close" onclick="closeModal('linksManagerModal')">&times;</button>
            <h2>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏</h2>
            <div class="links-list" id="linksList">
                <!-- –ó–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
            <button class="btn-secondary" onclick="showAddLinkForm()" style="width:100%; padding:12px; margin-top:10px;">
                <i class="fas fa-plus"></i> –î–æ–¥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
            </button>
            <div class="link-form" id="linkForm" style="display:none;">
                <h4 id="linkFormTitle">–ù–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è</h4>
                <input type="hidden" id="linkEditId" value="">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞</label>
                    <input type="text" id="linkTitle" placeholder="–ù–∞—à Discord" required>
                </div>
                <div class="form-group">
                    <label>URL</label>
                    <input type="url" id="linkUrl" placeholder="https://discord.gg/..." required>
                </div>
                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                    <select id="linkCategory">
                        <option value="social">–°–æ—Ü–º–µ—Ä–µ–∂—ñ</option>
                        <option value="project">–ü—Ä–æ—î–∫—Ç</option>
                        <option value="other">–Ü–Ω—à–µ</option>
                    </select>
                </div>
                <div style="display:flex; gap:10px;">
                    <button class="form-submit" onclick="saveLink()" style="flex:1;">
                        <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏
                    </button>
                    <button class="btn-secondary" onclick="cancelLinkForm()" style="padding:12px 20px;">
                        –°–∫–∞—Å—É–≤–∞—Ç–∏
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== MODAL: Webhook Settings ===== -->
    <div class="modal-overlay" id="webhookSettingsModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('webhookSettingsModal')">&times;</button>
            <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Webhook</h2>

            <div class="webhook-settings">
                <h4><i class="fab fa-discord"></i> Discord Webhook –Ω–æ–≤–∏–Ω</h4>
                <p style="color:var(--text-secondary); font-size:0.83rem; margin-bottom:15px;">
                    –í—Å—Ç–∞–≤—Ç–µ URL Webhook –∫–∞–Ω–∞–ª—É Discord, –≤ —è–∫–∏–π –±—É–¥—É—Ç—å –Ω–∞–¥—Å–∏–ª–∞—Ç–∏—Å—å –Ω–æ–≤–∏–Ω–∏ –ø—Ä–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó.
                </p>
                <div class="form-group">
                    <label>Webhook URL</label>
                    <input type="url" id="newsWebhookUrl" placeholder="https://discord.com/api/webhooks/...">
                </div>
                <div class="form-group">
                    <label>–¢–µ–≥ —Ä–æ–ª—ñ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
                    <input type="text" id="newsWebhookRoleTag" placeholder="<@&123456789> –∞–±–æ @everyone">
                </div>
            </div>

            <button class="form-submit" onclick="saveWebhookSettings()">
                <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
            </button>
        </div>
    </div>
        <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module">
        // ===== FIREBASE INIT =====
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
            createUserWithEmailAndPassword,
            onAuthStateChanged,
            signOut
        } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import {
            getFirestore,
            collection,
            doc,
            getDoc,
            getDocs,
            setDoc,
            addDoc,
            updateDoc,
            deleteDoc,
            query,
            orderBy,
            limit,
            onSnapshot
        } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCHVhune6Kqo8MpGCjzAZONydRcEbsmRME",
            authDomain: "dshvukrainegta.firebaseapp.com",
            projectId: "dshvukrainegta",
            storageBucket: "dshvukrainegta.firebasestorage.app",
            messagingSenderId: "356aborede530",
            appId: "1:356548530:web:YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // ===== GLOBAL STATE =====
        let currentUser = null;
        let isAdmin = false;
        let galleryPhotos = [];
        let galleryIndex = 0;
        let galleryAnimating = false;
        let newsItems = [];
        let newsCurrentSlide = 0;
        let newsPerView = 3;
        let contextNewsId = null;
        let currentAdminSlot = 0;
        let featuredSelections = { fact1: 0, fact2: 1, fact3: 2 };
        let newsWebhookUrl = '';
        let newsRoleTag = '';

        // ===== AOS INIT =====
        AOS.init({
            duration: 800,
            easing: 'ease-out-cubic',
            once: false,
            mirror: true,
            offset: 80
        });

        // ===== STICKY NAV =====
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // ===== BURGER MENU =====
        const burger = document.getElementById('burger');
        const navLinks = document.getElementById('navLinks');

        burger.addEventListener('click', () => {
            burger.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                burger.classList.remove('active');
                navLinks.classList.remove('active');
            });
        });

        // ===== ADMIN DROPDOWN =====
        const adminDropdownBtn = document.getElementById('adminDropdownBtn');
        const adminDropdownMenu = document.getElementById('adminDropdownMenu');

        adminDropdownBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            adminDropdownMenu.classList.toggle('show');
        });

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.admin-dropdown')) {
                adminDropdownMenu.classList.remove('show');
            }
        });

        // ===== MODAL SYSTEM =====
        window.openModal = function(id) {
            const modal = document.getElementById(id);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –±—É—Ä–≥–µ—Ä –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –º–æ–¥–∞–ª–∫–∏
            burger.classList.remove('active');
            navLinks.classList.remove('active');
        };

        window.closeModal = function(id) {
            const modal = document.getElementById(id);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        };

        // –ó–∞–∫—Ä–∏—Ç—Ç—è –ø–æ –∫–ª—ñ–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });

        // –ó–∞–∫—Ä–∏—Ç—Ç—è –ø–æ ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay.active').forEach(modal => {
                    modal.classList.remove('active');
                });
                document.body.style.overflow = '';
                // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –º–µ–Ω—é
                document.getElementById('contextMenu').classList.remove('show');
            }
        });

        // ===== AUTH SYSTEM =====
        window.switchAuthTab = function(tab) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));

            if (tab === 'login') {
                document.querySelectorAll('.auth-tab')[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.querySelectorAll('.auth-tab')[1].classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            }
        };

        window.handleLogin = async function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                closeModal('authModal');
                showToast('–í–∏ —É–≤—ñ–π—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É!', 'success');
            } catch (error) {
                console.error('Login error:', error);
                let msg = '–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É';
                if (error.code === 'auth/user-not-found') msg = '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ';
                if (error.code === 'auth/wrong-password') msg = '–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å';
                if (error.code === 'auth/invalid-email') msg = '–ù–µ–≤—ñ—Ä–Ω–∏–π email';
                if (error.code === 'auth/invalid-credential') msg = '–ù–µ–≤—ñ—Ä–Ω–∏–π email –∞–±–æ –ø–∞—Ä–æ–ª—å';
                showToast(msg, 'error');
            }
        };

        window.handleRegister = async function(e) {
            e.preventDefault();
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;

            try {
                const cred = await createUserWithEmailAndPassword(auth, email, password);
                // –°—Ç–≤–æ—Ä—é—î–º–æ –¥–æ–∫—É–º–µ–Ω—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                await setDoc(doc(db, 'users', cred.user.uid), {
                    name: name,
                    email: email,
                    role: 'user',
                    rank: '–†—è–¥–æ–≤–∏–π',
                    position: '',
                    gameID: '',
                    discord: '',
                    verified: false,
                    points: 0,
                    warns: 0,
                    createdAt: new Date().toISOString()
                });
                closeModal('authModal');
                showToast('–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!', 'success');
            } catch (error) {
                console.error('Register error:', error);
                let msg = '–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó';
                if (error.code === 'auth/email-already-in-use') msg = '–¶–µ–π email –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è';
                if (error.code === 'auth/weak-password') msg = '–ü–∞—Ä–æ–ª—å –∑–∞–Ω–∞–¥—Ç–æ —Å–ª–∞–±–∫–∏–π (–º—ñ–Ω. 6 —Å–∏–º–≤–æ–ª—ñ–≤)';
                showToast(msg, 'error');
            }
        };

        // ===== AUTH STATE OBSERVER =====
        onAuthStateChanged(auth, async (user) => {
            const authLink = document.getElementById('authLink');
            const adminDropdown = document.getElementById('adminDropdown');

            if (user) {
                currentUser = user;
                // –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –∑ Firestore
                try {
                    const userDoc = await getDoc(doc(db, 'users', user.uid));
                    if (userDoc.exists()) {
                        const userData = userDoc.data();
                        isAdmin = userData.role === 'admin';

                        // –û–Ω–æ–≤–ª—é—î–º–æ UI
                        authLink.textContent = userData.name || '–ü—Ä–æ—Ñ—ñ–ª—å';
                        authLink.onclick = () => {
                            window.location.href = 'cabinet.html';
                        };

                        // –ü–æ–∫–∞–∑—É—î–º–æ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
                        if (isAdmin) {
                            adminDropdown.classList.add('visible');
                        } else {
                            adminDropdown.classList.remove('visible');
                        }

                        // –ü–æ–∫–∞–∑—É—î–º–æ –∞–¥–º—ñ–Ω –∫–Ω–æ–ø–∫–∏ –Ω–∞ –Ω–æ–≤–∏–Ω–∞—Ö
                        updateNewsAdminButtons();
                    }
                } catch (err) {
                    console.error('Error getting user data:', err);
                }
            } else {
                currentUser = null;
                isAdmin = false;
                authLink.textContent = '–£–≤—ñ–π—Ç–∏';
                authLink.onclick = () => openModal('authModal');
                adminDropdown.classList.remove('visible');
                updateNewsAdminButtons();
            }
        });
                // ===== FIGHTER COUNT (Realtime) =====
        const fighterCountEl = document.getElementById('fighterCount');
        onSnapshot(collection(db, 'users'), (snapshot) => {
            const count = snapshot.size;
            animateCounter(fighterCountEl, count);
        });

        function animateCounter(el, target) {
            const current = parseInt(el.textContent) || 0;
            if (current === target) return;

            const duration = 1000;
            const step = (target - current) / (duration / 16);
            let value = current;

            const timer = setInterval(() => {
                value += step;
                if ((step > 0 && value >= target) || (step < 0 && value <= target)) {
                    value = target;
                    clearInterval(timer);
                }
                el.textContent = Math.round(value);
            }, 16);
        }

        // ===== GALLERY (Realtime) =====
        const galleryMainImg = document.getElementById('galleryMainImg');
        const galleryCaption = document.getElementById('galleryCaption');
        const galleryThumbs = document.getElementById('galleryThumbs');

        onSnapshot(
            query(collection(db, 'gallery'), orderBy('timestamp', 'desc'), limit(10)),
            (snapshot) => {
                galleryPhotos = [];
                snapshot.forEach(docSnap => {
                    galleryPhotos.push({ id: docSnap.id, ...docSnap.data() });
                });

                if (galleryPhotos.length > 0) {
                    galleryIndex = 0;
                    showGalleryPhoto(galleryIndex, 'none');
                    renderGalleryThumbs();
                    loadFeaturedPhotos();
                    loadAdminPhotoGrid();
                }
            }
        );

        function showGalleryPhoto(index, direction) {
            if (galleryPhotos.length === 0) return;
            if (galleryAnimating) return;

            galleryAnimating = true;
            const photo = galleryPhotos[index];
            const img = galleryMainImg;

            if (direction === 'none') {
                img.src = photo.imageUrl;
                galleryCaption.textContent = photo.caption || '';
                galleryAnimating = false;
                updateGalleryThumbs();
                return;
            }

            // Fade out
            img.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            img.style.opacity = '0';
            img.style.transform = direction === 'next' ? 'scale(1.03) translateX(-20px)' : 'scale(1.03) translateX(20px)';

            setTimeout(() => {
                img.src = photo.imageUrl;
                galleryCaption.textContent = photo.caption || '';

                // –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ fade in
                img.style.transition = 'none';
                img.style.transform = direction === 'next' ? 'scale(1.03) translateX(20px)' : 'scale(1.03) translateX(-20px)';
                img.style.opacity = '0';

                // Fade in
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        img.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
                        img.style.opacity = '1';
                        img.style.transform = 'scale(1) translateX(0)';

                        setTimeout(() => {
                            galleryAnimating = false;
                        }, 400);
                    });
                });
            }, 300);

            updateGalleryThumbs();
        }

        window.changeGalleryPhoto = function(dir) {
            if (galleryAnimating) return;
            const newIndex = galleryIndex + dir;
            if (newIndex < 0 || newIndex >= galleryPhotos.length) return;
            galleryIndex = newIndex;
            showGalleryPhoto(galleryIndex, dir > 0 ? 'next' : 'prev');
        };

        function renderGalleryThumbs() {
            galleryThumbs.innerHTML = '';
            galleryPhotos.forEach((photo, i) => {
                const thumb = document.createElement('div');
                thumb.className = 'gallery-thumb' + (i === galleryIndex ? ' active' : '');
                thumb.innerHTML = `<img src="${photo.imageUrl}" alt="">`;
                thumb.addEventListener('click', () => {
                    if (i === galleryIndex || galleryAnimating) return;
                    const direction = i > galleryIndex ? 'next' : 'prev';
                    galleryIndex = i;
                    showGalleryPhoto(galleryIndex, direction);
                });
                galleryThumbs.appendChild(thumb);
            });
        }

        function updateGalleryThumbs() {
            document.querySelectorAll('.gallery-thumb').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === galleryIndex);
            });
        }

        // ===== WHY SECTION ‚Äî Featured Photos =====
        async function loadFeaturedPhotos() {
            try {
                const featuredDoc = await getDoc(doc(db, 'settings', 'featuredPhotos'));
                if (featuredDoc.exists()) {
                    const data = featuredDoc.data();
                    featuredSelections = {
                        fact1: data.fact1 ?? 0,
                        fact2: data.fact2 ?? 1,
                        fact3: data.fact3 ?? 2
                    };
                }
            } catch (err) {
                console.error('Error loading featured photos:', err);
            }

            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Ñ–æ—Ç–æ
            const whyImg1 = document.getElementById('whyImg1');
            const whyImg2 = document.getElementById('whyImg2');
            const whyImg3 = document.getElementById('whyImg3');

            if (galleryPhotos[featuredSelections.fact1]) {
                whyImg1.src = galleryPhotos[featuredSelections.fact1].imageUrl;
            }
            if (galleryPhotos[featuredSelections.fact2]) {
                whyImg2.src = galleryPhotos[featuredSelections.fact2].imageUrl;
            }
            if (galleryPhotos[featuredSelections.fact3]) {
                whyImg3.src = galleryPhotos[featuredSelections.fact3].imageUrl;
            }
        }

        // ===== APPLICATION FORM =====
        const appForm = document.getElementById('applicationForm');
        const appSuccess = document.getElementById('appSuccess');

        appForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const submitBtn = document.getElementById('appSubmitBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è...';

            const data = {
                name: document.getElementById('appName').value.trim(),
                age: document.getElementById('appAge').value,
                rank: document.getElementById('appRank').value.trim(),
                discord: document.getElementById('appDiscord').value.trim(),
                motivation: document.getElementById('appMotivation').value.trim(),
                status: 'pending',
                timestamp: new Date().toISOString()
            };

            try {
                // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ Firestore
                await addDoc(collection(db, 'applications'), data);

                // –ù–∞–¥—Å–∏–ª–∞—î–º–æ –≤ Discord webhook
                await sendApplicationWebhook(data);

                // –ü–æ–∫–∞–∑—É—î–º–æ —É—Å–ø—ñ—Ö
                appForm.style.display = 'none';
                appSuccess.style.display = 'block';

                showToast('–†–∞–ø–æ—Ä—Ç —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!', 'success');
            } catch (error) {
                console.error('Error sending application:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ —Ä–∞–ø–æ—Ä—Ç—É', 'error');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ä–∞–ø–æ—Ä—Ç';
            }
        });

        async function sendApplicationWebhook(data) {
            try {
                // –û—Ç—Ä–∏–º—É—î–º–æ webhook URL –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
                const settingsDoc = await getDoc(doc(db, 'settings', 'discord'));
                if (!settingsDoc.exists()) return;

                const webhookUrl = settingsDoc.data().webhookUrl;
                if (!webhookUrl) return;

                const embed = {
                    title: 'üìã –ù–æ–≤–∏–π —Ä–∞–ø–æ—Ä—Ç –Ω–∞ –≤—Å—Ç—É–ø',
                    color: 2278429, // –∑–µ–ª–µ–Ω–∏–π
                    fields: [
                        { name: 'üë§ NickName', value: data.name, inline: true },
                        { name: 'üéÇ –í—ñ–∫', value: data.age.toString(), inline: true },
                        { name: '‚≠ê –ó–≤–∞–Ω–Ω—è', value: data.rank, inline: true },
                        { name: 'üí¨ Discord', value: data.discord, inline: true },
                        { name: 'üìù –ú–æ—Ç–∏–≤–∞—Ü—ñ—è', value: data.motivation }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: { text: '–î–®–í UKRAINE | –°–∏—Å—Ç–µ–º–∞ —Ä–∞–ø–æ—Ä—Ç—ñ–≤' }
                };

                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ embeds: [embed] })
                });
            } catch (err) {
                console.error('Webhook error:', err);
            }
        }
                // ===== NEWS SYSTEM =====
        const newsTrack = document.getElementById('newsTrack');
        const newsDots = document.getElementById('newsDots');
        const newsEmpty = document.getElementById('newsEmpty');
        const newsContainer = document.getElementById('newsContainer');
        const newsPrevBtn = document.getElementById('newsPrevBtn');
        const newsNextBtn = document.getElementById('newsNextBtn');

        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞—Ä—Ç–æ–∫ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
        function getNewsPerView() {
            if (window.innerWidth <= 768) return 1;
            if (window.innerWidth <= 1024) return 2;
            return 3;
        }

        // –°–ª—É—Ö–∞—î–º–æ –∑–º—ñ–Ω—É —Ä–æ–∑–º—ñ—Ä—É –µ–∫—Ä–∞–Ω–∞
        window.addEventListener('resize', () => {
            const newPerView = getNewsPerView();
            if (newPerView !== newsPerView) {
                newsPerView = newPerView;
                if (newsItems.length > 0) {
                    newsCurrentSlide = 0;
                    renderNews();
                }
            }
        });

        // Realtime listener –Ω–∞ –Ω–æ–≤–∏–Ω–∏
        onSnapshot(
            query(collection(db, 'news'), orderBy('date', 'desc')),
            (snapshot) => {
                newsItems = [];
                snapshot.forEach(docSnap => {
                    newsItems.push({ id: docSnap.id, ...docSnap.data() });
                });

                newsPerView = getNewsPerView();
                newsCurrentSlide = 0;

                if (newsItems.length === 0) {
                    newsContainer.style.display = 'none';
                    newsEmpty.style.display = 'block';
                } else {
                    newsContainer.style.display = 'block';
                    newsEmpty.style.display = 'none';
                    renderNews();
                }
            }
        );

        function renderNews() {
            newsTrack.innerHTML = '';
            newsDots.innerHTML = '';

            newsItems.forEach((item, index) => {
                const slide = document.createElement('div');
                slide.className = 'news-slide';
                slide.setAttribute('data-news-id', item.id);

                let dateStr = '';
                if (item.date) {
                    try {
                        const d = item.date.toDate ? item.date.toDate() : new Date(item.date);
                        dateStr = d.toLocaleDateString('uk-UA', { day: '2-digit', month: 'long', year: 'numeric' });
                    } catch (e) {
                        dateStr = item.date;
                    }
                }

                const descriptionShort = (item.description || '').substring(0, 150);

                slide.innerHTML = `
                    <div class="news-card" onclick="openNewsView('${item.id}')" oncontextmenu="showNewsContext(event, '${item.id}')">
                        <img src="${item.imageUrl || ''}" class="news-card-img" alt="${item.title}" onerror="this.style.display='none'">
                        <div class="news-card-body">
                            <div class="news-card-date">${dateStr}</div>
                            <h3>${item.title || '–ë–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫—É'}</h3>
                            <p>${descriptionShort}</p>
                        </div>
                        <div class="news-card-footer">
                            <button class="news-read-more" onclick="event.stopPropagation(); openNewsView('${item.id}')">
                                –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ <i class="fas fa-arrow-right"></i>
                            </button>
                            <div class="news-admin-actions ${isAdmin ? 'visible' : ''}" id="newsAdmin_${item.id}">
                                <button class="news-admin-btn" onclick="event.stopPropagation(); openNewsEditor('${item.id}')" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="news-admin-btn delete" onclick="event.stopPropagation(); deleteNewsItem('${item.id}')" title="–í–∏–¥–∞–ª–∏—Ç–∏">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                newsTrack.appendChild(slide);
            });

            // –°—Ç–≤–æ—Ä—é—î–º–æ dots
            const totalSlides = Math.max(0, newsItems.length - newsPerView + 1);
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('button');
                dot.className = 'news-slider-dot' + (i === newsCurrentSlide ? ' active' : '');
                dot.addEventListener('click', () => {
                    newsCurrentSlide = i;
                    updateNewsSlider();
                });
                newsDots.appendChild(dot);
            }

            updateNewsSlider();
        }

        function updateNewsSlider() {
            const totalSlides = Math.max(0, newsItems.length - newsPerView + 1);

            // –û–±–º–µ–∂—É—î–º–æ –ø–æ–∑–∏—Ü—ñ—é
            if (newsCurrentSlide < 0) newsCurrentSlide = 0;
            if (newsCurrentSlide >= totalSlides) newsCurrentSlide = Math.max(0, totalSlides - 1);

            // –†—É—Ö–∞—î–º–æ —Ç—Ä–µ–∫
            const slideWidth = 100 / newsPerView;
            const offset = newsCurrentSlide * slideWidth;
            newsTrack.style.transform = `translateX(-${offset}%)`;

            // –û–Ω–æ–≤–ª—é—î–º–æ dots
            document.querySelectorAll('.news-slider-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === newsCurrentSlide);
            });

            // –û–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫–∏
            newsPrevBtn.disabled = newsCurrentSlide <= 0;
            newsNextBtn.disabled = newsCurrentSlide >= totalSlides - 1;
        }

        window.slideNews = function(dir) {
            newsCurrentSlide += dir;
            updateNewsSlider();
        };

        // Keyboard arrows –¥–ª—è –Ω–æ–≤–∏–Ω
        document.addEventListener('keydown', (e) => {
            // –ù–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ–ª–∏ –º–æ–¥–∞–ª–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∞
            if (document.querySelector('.modal-overlay.active')) return;

            if (e.key === 'ArrowLeft') slideNews(-1);
            if (e.key === 'ArrowRight') slideNews(1);
        });

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–¥–º—ñ–Ω –∫–Ω–æ–ø–æ–∫ –Ω–∞ –Ω–æ–≤–∏–Ω–∞—Ö
        function updateNewsAdminButtons() {
            document.querySelectorAll('.news-admin-actions').forEach(el => {
                if (isAdmin) {
                    el.classList.add('visible');
                } else {
                    el.classList.remove('visible');
                }
            });
        }

        // ===== NEWS VIEW MODAL =====
        window.openNewsView = function(newsId) {
            const item = newsItems.find(n => n.id === newsId);
            if (!item) return;

            const img = document.getElementById('newsViewImg');
            const title = document.getElementById('newsViewTitle');
            const text = document.getElementById('newsViewText');
            const date = document.getElementById('newsViewDate');

            if (item.imageUrl) {
                img.src = item.imageUrl;
                img.style.display = 'block';
            } else {
                img.style.display = 'none';
            }

            title.textContent = item.title || '';

            // –§–æ—Ä–º–∞—Ç—É—î–º–æ —Ç–µ–∫—Å—Ç ‚Äî –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –∑–∞–π–≤—ñ –ø—Ä–æ–±—ñ–ª–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É
            let descText = item.description || '';
            // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –ø–µ—Ä–µ–Ω–æ—Å–∏ —Ä—è–¥–∫—ñ–≤
            descText = descText.replace(/\r\n/g, '\n');
            descText = descText.replace(/\n{3,}/g, '\n\n');
            text.textContent = descText;

            let dateStr = '';
            if (item.date) {
                try {
                    const d = item.date.toDate ? item.date.toDate() : new Date(item.date);
                    dateStr = d.toLocaleDateString('uk-UA', { day: '2-digit', month: 'long', year: 'numeric' });
                } catch (e) {
                    dateStr = '';
                }
            }
            date.textContent = dateStr;

            openModal('newsViewModal');
        };

        // ===== CONTEXT MENU =====
        window.showNewsContext = function(e, newsId) {
            if (!isAdmin) return;
            e.preventDefault();
            e.stopPropagation();

            contextNewsId = newsId;
            const menu = document.getElementById('contextMenu');
            const x = Math.min(e.clientX, window.innerWidth - 200);
            const y = Math.min(e.clientY, window.innerHeight - 120);
            menu.style.left = x + 'px';
            menu.style.top = y + 'px';
            menu.classList.add('show');
        };

        // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –º–µ–Ω—é –ø–æ –∫–ª—ñ–∫—É
        document.addEventListener('click', () => {
            document.getElementById('contextMenu').classList.remove('show');
        });

        window.editNewsFromContext = function() {
            document.getElementById('contextMenu').classList.remove('show');
            if (contextNewsId) openNewsEditor(contextNewsId);
        };

        window.deleteNewsFromContext = function() {
            document.getElementById('contextMenu').classList.remove('show');
            if (contextNewsId) deleteNewsItem(contextNewsId);
        };

        // ===== NEWS EDITOR =====
        window.openNewsEditor = async function(newsId = null) {
            const titleEl = document.getElementById('newsEditorTitle');
            const editIdEl = document.getElementById('newsEditId');
            const submitBtn = document.getElementById('newsSubmitBtn');

            // –•–æ–≤–∞—î–º–æ –ø—Ä–µ–≤ º—é
            document.getElementById('newsPreview').classList.remove('active');
            document.getElementById('webhookPreview').classList.remove('active');

            if (newsId) {
                // –†–µ–∂–∏–º —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
                titleEl.textContent = '–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É';
                submitBtn.innerHTML = '<i class="fas fa-save"></i> –û–Ω–æ–≤–∏—Ç–∏';
                editIdEl.value = newsId;

                const item = newsItems.find(n => n.id === newsId);
                if (item) {
                    document.getElementById('newsTitle').value = item.title || '';
                    document.getElementById('newsDescription').value = item.description || '';
                    document.getElementById('newsImageUrl').value = item.imageUrl || '';
                    document.getElementById('newsLink').value = item.link || '';

                    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –¥–∞—Ç—É
                    let dateValue = '';
                    if (item.date) {
                        try {
                            const d = item.date.toDate ? item.date.toDate() : new Date(item.date);
                            dateValue = d.toISOString().split('T')[0];
                        } catch (e) {}
                    }
                    document.getElementById('newsDate').value = dateValue;
                }
            } else {
                // –†–µ–∂–∏–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
                titleEl.textContent = '–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É';
                submitBtn.innerHTML = '<i class="fas fa-save"></i> –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏';
                editIdEl.value = '';
                document.getElementById('newsEditorForm').reset();

                // –°—Ç–∞–≤–∏–º–æ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É
                document.getElementById('newsDate').value = new Date().toISOString().split('T')[0];
            }

            openModal('newsEditorModal');
        };

        // ===== NEWS PREVIEW =====
        window.toggleNewsPreview = function() {
            const preview = document.getElementById('newsPreview');
            preview.classList.toggle('active');

            if (preview.classList.contains('active')) {
                document.getElementById('newsPreviewImg').src = document.getElementById('newsImageUrl').value || '';
                document.getElementById('newsPreviewTitle').textContent = document.getElementById('newsTitle').value || '–ó–∞–≥–æ–ª–æ–≤–æ–∫';
                document.getElementById('newsPreviewDesc').textContent = document.getElementById('newsDescription').value || '–û–ø–∏—Å –Ω–æ–≤–∏–Ω–∏...';
            }
        };

        window.toggleWebhookPreview = function() {
            const preview = document.getElementById('webhookPreview');
            preview.classList.toggle('active');

            if (preview.classList.contains('active')) {
                const imgUrl = document.getElementById('newsImageUrl').value;
                document.getElementById('whPreviewTitle').textContent = document.getElementById('newsTitle').value || '–ó–∞–≥–æ–ª–æ–≤–æ–∫';
                document.getElementById('whPreviewDesc').textContent = (document.getElementById('newsDescription').value || '–û–ø–∏—Å...').substring(0, 200);

                const whImg = document.getElementById('whPreviewImg');
                if (imgUrl) {
                    whImg.src = imgUrl;
                    whImg.style.display = 'block';
                } else {
                    whImg.style.display = 'none';
                }
            }
        };

        // ===== SAVE NEWS =====
        window.saveNews = async function(e) {
            e.preventDefault();

            const submitBtn = document.getElementById('newsSubmitBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...';

            const editId = document.getElementById('newsEditId').value;
            const title = document.getElementById('newsTitle').value.trim();
            const description = document.getElementById('newsDescription').value.trim();
            const imageUrl = document.getElementById('newsImageUrl').value.trim();
            const link = document.getElementById('newsLink').value.trim();
            const dateValue = document.getElementById('newsDate').value;

            const newsData = {
                title,
                description,
                imageUrl,
                link: link || '',
                date: new Date(dateValue)
            };

            try {
                if (editId) {
                    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è
                    await updateDoc(doc(db, 'news', editId), newsData);
                    showToast('–ù–æ–≤–∏–Ω—É –æ–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
                } else {
                    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è
                    await addDoc(collection(db, 'news'), newsData);
                    showToast('–ù–æ–≤–∏–Ω—É –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ!', 'success');

                    // –ù–∞–¥—Å–∏–ª–∞—î–º–æ webhook
                    await sendNewsWebhook(title, description, imageUrl, link);
                }

                closeModal('newsEditorModal');
                document.getElementById('newsEditorForm').reset();
            } catch (error) {
                console.error('Save news error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: ' + error.message, 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = editId
                    ? '<i class="fas fa-save"></i> –û–Ω–æ–≤–∏—Ç–∏'
                    : '<i class="fas fa-save"></i> –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏';
            }
        };

        // ===== DELETE NEWS =====
        window.deleteNewsItem = async function(newsId) {
            if (!confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü—é –Ω–æ–≤–∏–Ω—É?')) return;

            try {
                await deleteDoc(doc(db, 'news', newsId));
                showToast('–ù–æ–≤–∏–Ω—É –≤–∏–¥–∞–ª–µ–Ω–æ', 'info');
            } catch (error) {
                console.error('Delete news error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è', 'error');
            }
        };

        // ===== NEWS WEBHOOK =====
        async function sendNewsWebhook(title, description, imageUrl, link) {
            try {
                const settingsDoc = await getDoc(doc(db, 'settings', 'discord'));
                if (!settingsDoc.exists()) return;

                const settings = settingsDoc.data();
                const webhookUrl = settings.newsWebhookUrl || settings.webhookUrl;
                if (!webhookUrl) return;

                const roleTag = settings.newsRoleTag || '';

                const embed = {
                    title: `üì∞ ${title}`,
                    description: description.substring(0, 500),
                    color: 2278429,
                    timestamp: new Date().toISOString(),
                    footer: { text: '–î–®–í UKRAINE | –ù–æ–≤–∏–Ω–∏' }
                };

                // –î–æ–¥–∞—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —Ü–µ URL, –Ω–µ base64)
                if (imageUrl && !imageUrl.startsWith('data:')) {
                    embed.image = { url: imageUrl };
                }

                // –î–æ–¥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
                if (link) {
                    embed.url = link;
                    embed.fields = [{ name: 'üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è', value: link, inline: false }];
                }

                const payload = {
                    username: '–î–®–í News',
                    avatar_url: 'https://i.imgur.com/TGRxJgE.png',
                    embeds: [embed]
                };

                // –î–æ–¥–∞—î–º–æ —Ç–µ–≥ —Ä–æ–ª—ñ
                if (roleTag) {
                    payload.content = roleTag;
                }

                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
            } catch (err) {
                console.error('News webhook error:', err);
            }
        }
                // ===== ADMIN PHOTO PANEL =====
        function loadAdminPhotoGrid() {
            const grid = document.getElementById('adminPhotoGrid');
            grid.innerHTML = '';

            galleryPhotos.forEach((photo, index) => {
                const item = document.createElement('div');
                item.className = 'admin-photo-item';

                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —Ü–µ —Ñ–æ—Ç–æ –≤–∏–±—Ä–∞–Ω–µ
                let slotNumber = null;
                if (featuredSelections.fact1 === index) slotNumber = 1;
                if (featuredSelections.fact2 === index) slotNumber = 2;
                if (featuredSelections.fact3 === index) slotNumber = 3;

                if (slotNumber !== null) {
                    item.classList.add('selected');
                    item.innerHTML = `
                        <img src="${photo.imageUrl}" alt="">
                        <div class="photo-index">${slotNumber}</div>
                    `;
                } else {
                    item.innerHTML = `<img src="${photo.imageUrl}" alt="">`;
                }

                item.addEventListener('click', () => {
                    selectPhotoForSlot(index);
                });

                grid.appendChild(item);
            });
        }

        window.selectAdminSlot = function(slot) {
            currentAdminSlot = slot;
            document.querySelectorAll('.admin-slot-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === slot);
            });
        };

        function selectPhotoForSlot(photoIndex) {
            const slotKey = `fact${currentAdminSlot + 1}`;
            featuredSelections[slotKey] = photoIndex;
            loadAdminPhotoGrid();
        }

        window.saveFeaturedPhotos = async function() {
            try {
                await setDoc(doc(db, 'settings', 'featuredPhotos'), featuredSelections);
                loadFeaturedPhotos();
                showToast('–§–æ—Ç–æ —Å–µ–∫—Ü—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
                closeModal('adminPanel');
            } catch (error) {
                console.error('Save featured error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è', 'error');
            }
        };

        // ===== MENU EDITOR (–ü–†–û–°–¢–ò–ô –¢–ï–ö–°–¢–û–í–ò–ô) =====
        window.switchMenuEditorTab = function(tab) {
            document.querySelectorAll('.menu-editor-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.menu-editor-section').forEach(s => s.classList.remove('active'));

            if (tab === 'about') {
                document.querySelectorAll('.menu-editor-tab')[0].classList.add('active');
                document.getElementById('menuEditorAbout').classList.add('active');
            } else {
                document.querySelectorAll('.menu-editor-tab')[1].classList.add('active');
                document.getElementById('menuEditorReq').classList.add('active');
            }
        };

        // –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–≥—ñ–≤ —É —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
        window.insertMenuTag = function(section, tag) {
            const textarea = section === 'about'
                ? document.getElementById('menuAboutText')
                : document.getElementById('menuReqText');

            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            let insert = '';

            switch (tag) {
                case 'heading':
                    insert = '## –ó–∞–≥–æ–ª–æ–≤–æ–∫\n';
                    break;
                case 'list':
                    insert = '- –ü—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É\n';
                    break;
                case 'separator':
                    insert = '---\n';
                    break;
            }

            textarea.value = text.substring(0, start) + insert + text.substring(end);
            textarea.focus();
            textarea.selectionStart = textarea.selectionEnd = start + insert.length;
        };

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç—É –≤ HTML
        function simpleTextToHtml(text) {
            if (!text || text.trim() === '') return '<p>–ù–µ–º–∞—î –≤–º—ñ—Å—Ç—É</p>';

            const lines = text.split('\n');
            let html = '';
            let inList = false;

            lines.forEach(line => {
                const trimmed = line.trim();

                if (trimmed === '') {
                    // –ü–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫ ‚Äî –∑–∞–∫—Ä–∏–≤–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —è–∫—â–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += '<br>';
                    return;
                }

                if (trimmed === '---') {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += '<hr style="border:none; border-top:1px solid var(--glass-border); margin:15px 0;">';
                    return;
                }

                if (trimmed.startsWith('## ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += `<h3>${trimmed.substring(3)}</h3>`;
                    return;
                }

                if (trimmed.startsWith('- ')) {
                    if (!inList) {
                        html += '<ul>';
                        inList = true;
                    }
                    html += `<li>${trimmed.substring(2)}</li>`;
                    return;
                }

                // –ó–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç
                if (inList) {
                    html += '</ul>';
                    inList = false;
                }
                html += `<p>${trimmed}</p>`;
            });

            if (inList) {
                html += '</ul>';
            }

            return html;
        }

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è HTML –≤ –ø—Ä–æ—Å—Ç–∏–π —Ç–µ–∫—Å—Ç (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞)
        function htmlToSimpleText(html) {
            if (!html) return '';

            let text = html;

            // –ó–∞–≥–æ–ª–æ–≤–∫–∏
            text = text.replace(/<h3[^>]*>(.*?)<\/h3>/gi, '## $1\n');

            // –°–ø–∏—Å–∫–∏
            text = text.replace(/<ul[^>]*>/gi, '');
            text = text.replace(/<\/ul>/gi, '');
            text = text.replace(/<li[^>]*>(.*?)<\/li>/gi, '- $1\n');

            // –†–æ–∑–¥—ñ–ª—é–≤–∞—á—ñ
            text = text.replace(/<hr[^>]*>/gi, '---\n');

            // –ê–±–∑–∞—Ü–∏ —Ç–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏
            text = text.replace(/<p[^>]*>(.*?)<\/p>/gi, '$1\n');
            text = text.replace(/<br\s*\/?>/gi, '\n');

            // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ —ñ–Ω—à—ñ —Ç–µ–≥–∏
            text = text.replace(/<[^>]+>/g, '');

            // Decode HTML entities
            const tempEl = document.createElement('div');
            tempEl.innerHTML = text;
            text = tempEl.textContent;

            // –û—á–∏—â—É—î–º–æ –∑–∞–π–≤—ñ –ø–µ—Ä–µ–Ω–æ—Å–∏
            text = text.replace(/\n{3,}/g, '\n\n');
            text = text.trim();

            return text;
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –º–µ–Ω—é
        async function loadMenuContent() {
            try {
                const menuDoc = await getDoc(doc(db, 'settings', 'menuContent'));
                if (menuDoc.exists()) {
                    const data = menuDoc.data();

                    // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ –º–æ–¥–∞–ª–∫–∞—Ö
                    document.getElementById('aboutModalText').innerHTML = data.about || '<p>–ù–µ–º–∞—î –≤–º—ñ—Å—Ç—É</p>';
                    document.getElementById('reqModalText').innerHTML = data.requirements || '<p>–ù–µ–º–∞—î –≤–º—ñ—Å—Ç—É</p>';

                    // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –≤ –ø—Ä–æ—Å—Ç–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
                    document.getElementById('menuAboutText').value = htmlToSimpleText(data.about);
                    document.getElementById('menuReqText').value = htmlToSimpleText(data.requirements);
                }
            } catch (err) {
                console.error('Error loading menu content:', err);
            }
        }

        loadMenuContent();

        // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –º–µ–Ω—é
        window.saveMenuContent = async function() {
            const aboutText = document.getElementById('menuAboutText').value;
            const reqText = document.getElementById('menuReqText').value;

            // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø—Ä–æ—Å—Ç–∏–π —Ç–µ–∫—Å—Ç –≤ HTML
            const aboutHtml = simpleTextToHtml(aboutText);
            const reqHtml = simpleTextToHtml(reqText);

            try {
                await setDoc(doc(db, 'settings', 'menuContent'), {
                    about: aboutHtml,
                    requirements: reqHtml
                });

                // –û–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                document.getElementById('aboutModalText').innerHTML = aboutHtml;
                document.getElementById('reqModalText').innerHTML = reqHtml;

                showToast('–¢–µ–∫—Å—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!', 'success');
                closeModal('menuEditorModal');
            } catch (error) {
                console.error('Save menu error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è', 'error');
            }
        };

        // ===== LINKS MANAGER =====
        let siteLinks = {};

        async function loadLinks() {
            try {
                const linksDoc = await getDoc(doc(db, 'settings', 'siteLinks'));
                if (linksDoc.exists()) {
                    siteLinks = linksDoc.data();
                    renderLinks();
                }
            } catch (err) {
                console.error('Error loading links:', err);
            }
        }

        loadLinks();

        function renderLinks() {
            const list = document.getElementById('linksList');
            list.innerHTML = '';

            const keys = Object.keys(siteLinks);
            if (keys.length === 0) {
                list.innerHTML = '<p style="text-align:center; color:var(--text-secondary); padding:20px;">–ü–æ—Å–∏–ª–∞–Ω—å —â–µ –Ω–µ–º–∞—î</p>';
                return;
            }

            keys.forEach(key => {
                const link = siteLinks[key];
                const item = document.createElement('div');
                item.className = 'link-item';
                item.innerHTML = `
                    <div class="link-item-info">
                        <div class="link-item-title">${link.title || key}</div>
                        <div class="link-item-url">${link.url || ''}</div>
                        <div class="link-item-category">${link.category || 'other'}</div>
                    </div>
                    <div class="link-item-actions">
                        <button onclick="editLink('${key}')" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏"><i class="fas fa-edit"></i></button>
                        <button class="delete" onclick="deleteLinkItem('${key}')" title="–í–∏–¥–∞–ª–∏—Ç–∏"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        window.showAddLinkForm = function() {
            document.getElementById('linkForm').style.display = 'block';
            document.getElementById('linkFormTitle').textContent = '–ù–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è';
            document.getElementById('linkEditId').value = '';
            document.getElementById('linkTitle').value = '';
            document.getElementById('linkUrl').value = '';
            document.getElementById('linkCategory').value = 'social';
        };

        window.editLink = function(key) {
            const link = siteLinks[key];
            if (!link) return;

            document.getElementById('linkForm').style.display = 'block';
            document.getElementById('linkFormTitle').textContent = '–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è';
            document.getElementById('linkEditId').value = key;
            document.getElementById('linkTitle').value = link.title || '';
            document.getElementById('linkUrl').value = link.url || '';
            document.getElementById('linkCategory').value = link.category || 'other';
        };

        window.cancelLinkForm = function() {
            document.getElementById('linkForm').style.display = 'none';
        };

        window.saveLink = async function() {
            const editId = document.getElementById('linkEditId').value;
            const title = document.getElementById('linkTitle').value.trim();
            const url = document.getElementById('linkUrl').value.trim();
            const category = document.getElementById('linkCategory').value;

            if (!title || !url) {
                showToast('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                return;
            }

            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è URL
            try {
                new URL(url);
            } catch (e) {
                showToast('–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç URL', 'error');
                return;
            }

            const key = editId || title.toLowerCase().replace(/\s+/g, '_').replace(/[^a-zA-Z0-9_–∞-—è–ê-–Ø—ñ–Ü—ó–á—î–Ñ“ë“ê]/g, '');

            siteLinks[key] = { title, url, category };

            try {
                await setDoc(doc(db, 'settings', 'siteLinks'), siteLinks);
                renderLinks();
                document.getElementById('linkForm').style.display = 'none';
                showToast('–ü–æ—Å–∏–ª–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!', 'success');
            } catch (error) {
                console.error('Save link error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è', 'error');
            }
        };

        window.deleteLinkItem = async function(key) {
            if (!confirm(`–í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è "${siteLinks[key]?.title}"?`)) return;

            delete siteLinks[key];

            try {
                await setDoc(doc(db, 'settings', 'siteLinks'), siteLinks);
                renderLinks();
                showToast('–ü–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ', 'info');
            } catch (error) {
                console.error('Delete link error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è', 'error');
            }
        };

        // ===== WEBHOOK SETTINGS =====
        window.openWebhookSettings = async function() {
            try {
                const settingsDoc = await getDoc(doc(db, 'settings', 'discord'));
                if (settingsDoc.exists()) {
                    const data = settingsDoc.data();
                    document.getElementById('newsWebhookUrl').value = data.newsWebhookUrl || data.webhookUrl || '';
                    document.getElementById('newsWebhookRoleTag').value = data.newsRoleTag || '';
                }
            } catch (err) {
                console.error('Error loading webhook settings:', err);
            }

            openModal('webhookSettingsModal');
        };

        window.saveWebhookSettings = async function() {
            const webhookUrl = document.getElementById('newsWebhookUrl').value.trim();
            const roleTag = document.getElementById('newsWebhookRoleTag').value.trim();

            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è URL (—è–∫—â–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ)
            if (webhookUrl) {
                try {
                    new URL(webhookUrl);
                    if (!webhookUrl.includes('discord.com/api/webhooks/')) {
                        showToast('URL –º–∞—î –±—É—Ç–∏ Discord Webhook', 'error');
                        return;
                    }
                } catch (e) {
                    showToast('–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç URL', 'error');
                    return;
                }
            }

            try {
                // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —â–æ–± –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ —ñ–Ω—à—ñ
                const settingsDoc = await getDoc(doc(db, 'settings', 'discord'));
                const currentData = settingsDoc.exists() ? settingsDoc.data() : {};

                await setDoc(doc(db, 'settings', 'discord'), {
                    ...currentData,
                    newsWebhookUrl: webhookUrl,
                    newsRoleTag: roleTag
                });

                showToast('Webhook –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!', 'success');
                closeModal('webhookSettingsModal');
            } catch (error) {
                console.error('Save webhook settings error:', error);
                showToast('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è', 'error');
            }
        };

        // ===== TOAST SYSTEM =====
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');

            const toast = document.createElement('div');
            toast.className = `toast ${type}`;

            let icon = 'fa-info-circle';
            if (type === 'success') icon = 'fa-check-circle';
            if (type === 'error') icon = 'fa-exclamation-circle';

            toast.innerHTML = `
                <span class="toast-icon"><i class="fas ${icon}"></i></span>
                <span>${message}</span>
            `;

            container.appendChild(toast);

            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(50px)';
                toast.style.transition = 'all 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

    </script>
</body>
</html>
